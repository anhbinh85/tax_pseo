# Role & Objective
You are a Senior Next.js Developer and Programmatic SEO (pSEO) Expert.
Your goal is to build a high-performance, bilingual (English/Vietnamese) lookup tool for Vietnam Import/Export Tariffs (2026).

# Technical Stack
- **Framework:** Next.js 14+ (App Router).
- **Language:** TypeScript (Strict mode).
- **Styling:** Tailwind CSS (Mobile-first).
- **Data:** JSON (generated from CSV).
- **Search:** Fuse.js (Client-side fuzzy search).
- **Deployment:** Vercel (Static Site Generation - SSG).

# Data Source & Processing Rules
- **Source File:** `BIEU THUE XNK 2026 UPDATE 07.01.26.xlsx - BT2026.csv` (Located in Ref folder).
- **CSV Parsing Logic:**
  - Headers are located on **Line 3** (Index 2).
  - **Column Mapping:**
    - `Mã hàng` (Col Index 4) -> `hs_code`
    - `Mô tả hàng hoá - Tiếng Việt` (Col Index 5) -> `name_vi`
    - `Mô tả hàng hoá - Tiếng Anh` (Col Index 6) -> `name_en`
    - `Đơn vị tính` (Col Index 7) -> `unit`
    - `NK ưu đãi` (Col Index 10) -> `tax_mfn`
    - `VAT` (Col Index 16) -> `vat`
    - `EVFTA` (Col Index 47) -> `tax_evfta` (Verify index in script)
  - **Cleaning:**
    - `slug`: Remove dots from `hs_code` (e.g., "84.71" -> "8471").
    - Filter: Exclude rows with empty `hs_code`.

# Architecture & Routing
- **Internationalization (i18n):**
  - DO NOT use external libraries like `next-i18next`.
  - Use Dynamic Routes: `app/[lang]/hs-code/[slug]/page.tsx`.
  - Valid locales: `['vi', 'en']`.
  - Middleware: Redirect root `/` to `/vi` based on browser headers.
- **Search:**
  - Implement `SearchBar` as a Client Component (`'use client'`).
  - Use `fuse.js` with keys: `['hs_code', 'name_vi', 'name_en']`.
  - Debounce inputs to prevent UI lag.

# SEO Guidelines (Critical)
- **Metadata:** Every page must export `generateMetadata()`.
- **Title Format:**
  - EN: "Import Duty for {name_en} ({hs_code}) to Vietnam 2026"
  - VI: "Thuế Nhập khẩu {name_vi} ({hs_code}) năm 2026"
- **Canonical:** Self-referencing canonical tags.
- **Hreflang:** Use `alternates` to link EN and VI versions.
- **Internal Linking:** Ensure related HS codes (same Chapter) link to each other.

# Coding Style
- Use `const` and arrow functions.
- Use `shadcn/ui` patterns for components (if available) or clean Tailwind classes.
- Handle data gracefully: If a tax rate is `null`, display "Check Policy" or "N/A" rather than crashing.
- **Images:** Use `https://source.unsplash.com/random/800x600/?{keyword}` for dynamic placeholders.

# Workflow
1. Always check if `src/data/hscode.json` exists before building pages.
2. If modifying the CSV parser, explicitly reference the specific column names from the `BT2026.csv` file.